0.1  Описание проекта
Интернет-магазин «В один клик» продаёт разные товары: для детей, для дома, мелкую бытовую технику, косметику и даже продукты. Отчёт магазина за прошлый период показал, что активность покупателей начала снижаться. Привлекать новых клиентов уже не так эффективно: о магазине и так знает большая часть целевой аудитории. Возможный выход — удерживать активность постоянных клиентов. Сделать это можно с помощью персонализированных предложений. «В один клик» — современная компания, поэтому её руководство не хочет принимать решения просто так — только на основе анализа данных и бизнес-моделирования. У компании есть небольшой отдел цифровых технологий, и вам предстоит побыть в роли стажёра в этом отделе.

Данные для работы находятся в нескольких таблицах. Нажмите на название файла, чтобы его скачать.
market_file.csv
Таблица, которая содержит данные о поведении покупателя на сайте, о коммуникациях с покупателем и его продуктовом поведении.
id — номер покупателя в корпоративной базе данных.
Покупательская активность — рассчитанный класс покупательской активности (целевой признак): «снизилась» или «прежний уровень».
Тип сервиса — уровень сервиса, например «премиум» и «стандарт».
Разрешить сообщать — информация о том, можно ли присылать покупателю дополнительные предложения о товаре. Согласие на это даёт покупатель.
Маркет_актив_6_мес — среднемесячное значение маркетинговых коммуникаций компании, которое приходилось на покупателя за последние 6 месяцев. Это значение показывает, какое число рассылок, звонков, показов рекламы и прочего приходилось на клиента.
Маркет_актив_тек_мес — количество маркетинговых коммуникаций в текущем месяце.
Длительность — значение, которое показывает, сколько дней прошло с момента регистрации покупателя на сайте.
Акционные_покупки — среднемесячная доля покупок по акции от общего числа покупок за последние 6 месяцев.
Популярная_категория — самая популярная категория товаров у покупателя за последние 6 месяцев.
Средний_просмотр_категорий_за_визит — показывает, сколько в среднем категорий покупатель просмотрел за визит в течение последнего месяца.
Неоплаченные_продукты_штук_квартал — общее число неоплаченных товаров в корзине за последние 3 месяца.
Ошибка_сервиса — число сбоев, которые коснулись покупателя во время посещения сайта.
Страниц_за_визит — среднее количество страниц, которые просмотрел покупатель за один визит на сайт за последние 3 месяца.
market_money.csv
Таблица с данными о выручке, которую получает магазин с покупателя, то есть сколько покупатель всего потратил за период взаимодействия с сайтом.
id — номер покупателя в корпоративной базе данных.
Период — название периода, во время которого зафиксирована выручка. Например, 'текущий_месяц' или 'предыдущий_месяц'.
Выручка — сумма выручки за период.
market_time.csv
Таблица с данными о времени (в минутах), которое покупатель провёл на сайте в течение периода.
id — номер покупателя в корпоративной базе данных.
Период — название периода, во время которого зафиксировано общее время.
минут — значение времени, проведённого на сайте, в минутах.
money.csv
Таблица с данными о среднемесячной прибыли покупателя за последние 3 месяца: какую прибыль получает магазин от продаж каждому покупателю.
id — номер покупателя в корпоративной базе данных.
Прибыль — значение прибыли.


0.2  Цель исследования
Провести анализ данных и разработать модель машинного обучения, которая позволит получить решение для персонализации предложения постоянным клиентам, чтобы увеличить их покупательскую активность.




0.3  Этапы исследования
Этап 1. Загрузка, обзор и изучение данных
Этап 2. Предобработка данных: проверка на пропуски, поиск аномалий,при необходимости переименовка и приведение к единому стилю данных
Этап 3. Исследовательский анализ данных: изучение и построение графиков для признаков, выводы на основе этих графиков
Этап 4. Обучение и построение моделей с помощию Pipeline. Выбор лучшейшей модели
Этап 5. Анализ важности признаков с помощью метода SHAP
Этап 6. Произвести сегментацию покупателей. Сделать предложения по увеличению покупательской активности отдельных сегментов
Этап 7. Общие выводы. Обоснование выбора лучейшей модели, предложения по увеличению покупательской активности и сегментации покупателей.



Итоги исследования:


 - Интернет-магазин «В один клик» поставил задачу изучить данные о покупателях т.к. они беспокоятся о том, что теряют активность постоянных покупателей. Рукодоство компании хочет получить отчет о факторых влияющий на активность покупаталей и рекомендации на основе анализа данных и построении модели машинного обучения, чтобы иметь возможность принять решение, как меньше терять постоянных покупателей.
Исходные данные были получены в 4 таблицах: market_file.csv, market_money.csv, market_time.csv, money.csv. Была проведена обработка данных. В целом можно похвалить аналитиков компании за чество предоставленных данных т.к. компания внимательно собирает данные. Мы изменили названия стобцов и привели их к единому стандарту, проверили категориальные значения, устранили неявные дубликаты и орфографические ошибки
 - Был проведен исследовательский анализ данных. Изучены распределения данных и их выбросы. Уже на этом этапе были отчечены некоторые интересные детали: есть пользователи, которые покупают только по акции, есь пользователи, которые получает меньше коммуникации на 6 месяцев. Активность снизалась у 500 пользователей, что примерно 38% от общего кол-ва пользователей.
 - На этапе корреляционного анализа данных, мы изучили как признаки влияют друг на друга, мультиколлинеарности не было обнаружено, также особо высоких зависимостей не было.
 - Для поиска лучше модели мы настроили и использовали пайплайн с 4 моделями: DecisionTreeClassifier(), KNeighborsClassifier(), SVC(), LogisticRegression() с перебором гиперпараметров. Мы использовали GridSearchCV для поиска лучшей модели.
 - Лучшей моделью стала LogisticRegression() с параметрами: (C=1, penalty='l1', random_state=42, solver='liblinear'), на тренировочной выборке показатель ROC-AUC = 0.8984, на тестовой показатель ROC-AUC = 0.9182. Что является хорошим результатом.
с помощью SHAP метода удалось показать важные признаки для лучшей модели: кол-во просмотренных страницза визит, кол-во просмотренных категорий, и проведенные минуты на сайте.
 - Мы выделили сегмент пользователей покупающих только по акции и теряющих активность, сравнили его со всем пользователями. Сформулировали следующие рекомендации для улучшения активности:
   1 Отслеживать марткетинговую актвиность, а контролировать рассылки для нашего сегмента т.к. он получает меньше внимания, хотя также как и все согласен получать рассылки
   2 Разработать схему "дожима" клиентов, которые имеют большое кол-во неоплаченных товаров. Если есть приложение, то отправлять пуш-уводмление с напоминаем: изменения цены или товар скоро закончится. Или придумать доп условия на увеличенное кол-во неоплаченных товаров: Купите 3 и более товаров получите бесплатную дсотавку или расширенное серисное обслуживание. Зависит от того, что компания может предложить. Возможно предложить рассрочку
   3 Подробно изучить поведения клиентов на сайте, чтобы они больше проводили времени на страницах и больше смотрели категорий. Возможна есть проблема с юзабилити и они просто не понмают, как перети в другую категорию или не настроены фильтры выбора товаров. Т.к. страниц за визит и категории за визит являются самыми главными признаками потери активности пользователей.
   4 И т.к. наш сегмент покупает только по акции, а потом становится неактивным, получается что эту категорию клиетов привлекли по отдельной рекламной компании, связанойсо скидками, сейчас они купили и потеряли интерес. Возможно для таких клиентов стоит сделать отдельную страницу на сайте с текущими спецпрдложениями на сайте, также мы понимаем, что они не любят смотреть много категорий и страниц, значит этот раздел должен быть доступен с главной страницы и с удобными настройками фильтрации. Такой клиент должен понимать, что ему еще есть что купить по акции.
   5 Также, думаю стоит пересмотреть акционную систему на сайте. Разработать прогрессивную шкалу. Добавить категории пользователей с лучшими условиями например: Золотой, серебряный, бронзовый. Помими скидок необходимо использовать другие инструменты вовлеченности пользователей, используя другие психологические качества: купи сейчас, разбей платежи, купи еще и получи дополнительную медальку, получи бесплатное обслуживание